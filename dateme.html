<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huh? *blushes* </title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <img src="resources/decorations/nyan-cat.gif" alt="Nyan Cat" class="nyan-cat hide-on-mobile"
            onclick="makeSound('explosion')">
        <!-- IDK why I made this -->
        <div>
            <h1 style="padding: 0; margin: 0;">
                <img src="resources/icons/WORLD.GIF" class="img_icon hide-on-mobile">
                Welcome to Loner Catboy's World Wide Web Page!
                <img src="resources/icons/WORLD.GIF" class="img_icon hide-on-mobile">
                <div class="minecraft-quote" id="quote-box"></div>
            </h1>
            <h2 class="hide-on-very-small" id="subtitle">
                Uh, it's nice to have you t-there huh!
            </h2>
            <nav>
                <div>
                    <a href="index.html">
                        <button class="button--netscape">
                            Home
                        </button>
                    </a>
                </div>

                <div>
                    <button class="button--netscape" onclick="toggleTheme()">Change theme</em>
                    </button>
                </div>

            </nav>
        </div>
        <div></div>
    </header>

    <main>

        <!-- Music player -->


        <div id="winamp-player" class="winamp-player hide-on-mobile">
            <div id="title-bar" class="title-bar">üéµ LonerAmp
                <button class="button--netscape wa-control wa-fixed-topright" onclick="toggleVideoSize()">‚ñº</button>
            </div>

            <div class="player-wrapper">
                <div id="overlay" class="overlay wa-hide-on-big"></div>
                <div id="player" class="player"></div>
                <div>
                    <p class="video-title wa-hide-on-big"><a id="video-title" href="#" target="_blank">Loading...</a>
                    </p>
                    <span class="wa-hide-on-big" style="margin-top: -20px;">Music is provided by the respective users on
                        youtube</span>
                </div>
                <div>

                </div>
            </div>

            <div id="seek-container" class="seek-container">
                <input type="range" id="seek-slider" min="0" max="100" value="0" step="1">
            </div>

            <div id="controls" class="controls">
                <div>
                    <button class="button--netscape wa-control" onclick="changeVideo(-1)">‚èÆ</button>
                </div>
                <div>
                    <button class="button--netscape wa-control" onclick="playVideo()">‚ñ∂</button>
                </div>
                <div>
                    <button class="button--netscape wa-control" onclick="pauseVideo()">‚è∏</button>
                </div>
                <div>
                    <button class="button--netscape wa-control" onclick="stopVideo()">‚èπ</button>
                </div>

                <button class="button--netscape wa-control" onclick="changeVideo(1)">‚è≠</button>
                <div id="volume-container" class="volume-container">
                    Vol: <input type="range" min="0" max="100" value="50" onchange="setVolume(this.value)">
                </div>
            </div>

        </div>
        </div>



        <!-- Music player -->
        <script src="player.js"></script>
        <!-- YouTube API -->
        <script src="https://www.youtube.com/iframe_api"></script>
        <!-- Tehehe~ API means BEEES in italian, so silly -->


        <!-- Actual content -->

        <div class="content" style="min-height: 100vh;">
            <h1>This page is under construction, come back in like... a month, or contact me right away to not lose your
                chance. You've already missed on friendship.</h1>
            <section class="sub-content-small">

            </section>

            <div style="margin: 1.1rem;">
                <div>

                    <button class="toggle--netscape big-text" type="button" aria-expanded="false">
                        Hard requirements
                    </button>
                    <div class="toggle-content" hidden style="max-width: 680px;">
                        <section class=" sub-content-small narrow-700">
                            <p>
                                <b>Location - </b>I know I might lose like 95% of my target audience but I'm not
                                interested in Internet-Only romantic relationships. Therefore, <b> the candidate must be
                                    living in Sardinia, Italy</b>. Or at least in Italy <img src="resources/icons/ITALY.png" class="img_icon">
                            </p>
                            <p>
                                <b>Age - </b>The candidate should be within 21 and 35 years old, male or female (better
                                if male).
                            </p>
                            <p>
                                <b>S*x - </b>I'm not extremely comfortable with intimancy huh, I might take a bit. I
                                mean I guess I could huh give heads and do relatively less intimate stuff (pls be clean)
                                but I'd appreciate if the candidate understood I'd like going slow at first. In fact,
                                asexual/demi folks would be more than welcome too!
                            </p>
                            <p>
                                <b>Temper - </b>It would be wonderful if the candidate had a dick, much less if he was
                                one himself.
                            </p>
                        </section>
                    </div>
                </div>
            </div>

            <div class="tab-section">
                <div class="tab-buttons">
                    <div>
                        <button class="button--netscape" style="font-size:small;" onclick="openTab('tab1',event)">
                            <img src="resources/icons/mcheartico.png" style="height: 10px;"> Compatibility test &nbsp;
                            <img src="resources/icons/mcheartico.png" style="height: 10px;" class="horizontal-flip">
                        </button>
                    </div>
                    <div>
                        <button class="button--netscape" style="font-size:small; position:relative; overflow:hidden;"
                            onclick="openTab('tab2',event)">
                            <img src="resources/decorations/animated-fire.gif"
                                style="position:absolute; left:0; top:0; width:100%; height:100%; z-index:0; pointer-events:none; opacity: 0.8;">
                            <span style="position:relative; z-index:1;">The Hot Stuff</span>
                        </button>
                    </div>
                    <div>
                        <button class="button--netscape" style="font-size:small;" onclick="openTab('tab3',event)">My
                            anime crush (legal)
                        </button>
                    </div>
                </div>

                <div class="tab-content" id="tab1">

                    <div>

                        <h1>
                            <img src="resources/decorations/ANIMATED/GRAPHER.GIF">
                            Are we compatible? Let's test it with the power of science!
                        </h1>
                        <p>
                            Complete this small survey! If score more than 80% you will be given a direct discord link
                            to chat with me <img src="resources/decorations/ANIMATED/MAIL_A.GIF"
                                style="vertical-align: middle;">
                        </p>
                        <p>
                            Good luck tehehehe~~
                        </p>
                        <div class="survey">
                            <div id="survey-container"></div>
                            <div class="survey-navigation">
                                <p><br></p>
                                <button id="prev-button" class="button--netscape"
                                    style="font-size: 10px;">Previous</button>
                                <span id="page-indicator"></span>
                                <button id="next-button" class="button--netscape" style="font-size: 10px;">Next</button>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="tab-content" id="tab2" style="display:none;">

                    //SPICY STUFF AND SECRETS (soon)

                </div>
                <div class="tab-content" id="tab3" style="display:none;">
                    <div>
                        <div style="margin-left: -10px;">

                            <button class="toggle--netscape" type="button" aria-expanded="false">
                                <span class="hard-blink">Disclaimer</span>
                            </button>
                            <div class="toggle-content" hidden style="max-width: 680px;">
                                <section class=" sub-content-small narrow-700">
                                    <p>
                                        <b>Disclaimer: </b> the following is meant to be taken with a bit of irony in
                                        mind. Like, the
                                        style of this whole website is a mix of vaporwave, straight up 90s style, and
                                        particularly in
                                        the way of writing another style I'd call "cringecore", where I purposely write
                                        in a slightly
                                        cringy way by design. That said, I'm not actually into teenagers. Anime characters
                                        just look hot,
                                        possibly due to the extremely simplified facial features that leave space for imagination. Not that there was
                                        something wrong in
                                        having crush for fictional characters.
                                    </p>
                                    <p>
                                        Like ok actually there shouldn't be any reason to put this disclaimer, but I don't know who will end up visiting this page, and people on the internet can be hateful/scary, some could even be upset at the idea of calling an anime character "cute". Maybe I'm overthinking.
                                    </p>
                                </section>
                            </div>
                        </div>
                    </div>

                    <h1>Hikaru (from "The Summer Hikaru Died")</h1>
                    <p>
                        Look at him he's soooo cute ^^!
                    </p>
                    <div class="gallery">
                        <img src="resources/image/characters/hikaru/hikaru1.png" class="img-decor img-limit-medium">
                        <img src="resources/image/characters/hikaru/hikaru2.png" class="img-decor img-limit-medium">
                        <img src="resources/image/characters/hikaru/hikaru3.png" class="img-decor img-limit-medium">
                        <img src="resources/image/characters/hikaru/hikaru4.png" class="img-decor img-limit-medium">
                    </div>
                </div>
                <div class="tab-content" id="tab4" style="display:none;">
                    <h1 style="text-align: center; padding: 0; margin: 0;">

                        </em>
                    </h1>
                </div>

            </div>




        </div>
    </main>

    <footer>
        <div class="footer-left">
            <nav> <a href="https://www.reddit.com/user/MiserableLonerCatboy/">
                    <img src="resources/icons/EMAIL1.GIF" class="img_icon">
                    Reach me out
                </a></nav>
        </div>
        <div>
            <span>
                Loner Catboy - 2025
            </span>
        </div>
        <div class="footer-right">
            <span> <img src="resources/icons/TURBONET.GIF" class="logo">
            </span>
            <span><img src="resources/icons/WINDOWS.GIF" class="logo"></span>
        </div>
    </footer>
    <script>
        // Survey configuration - this is where you define your questions
        const surveyConfig = [
            // Page 1
            {
                questions: [
                    {
                        id: 'q1a',
                        text: '1: While visiting a city abroad, I want to...',
                        type: 'binary',
                        options: ['Find cool nighclubs to party a lot!!', 'Visit a lot of museum to satisfy curiosity!!'],
                        correctAnswer: 'Visit a lot of museum to satisfy curiosity!!',
                        allAnswersCorrect: false
                    },
                    {
                        id: 'q1b',
                        text: '2: Having one single boyfriend > having an harem of boyfriends',
                        type: 'binary',
                        options: ['Agree', 'Disagree'],
                        correctAnswer: 'Agree',
                        allAnswersCorrect: true
                    },
                    {
                        id: 'q1c',
                        text: '3: In a relationship, two people should...',
                        type: 'binary',
                        options: ['Spend as much time together as possible!!', 'Giving each other space, even if it means spending less time toghether...'],
                        correctAnswer: 'Giving each other space, even if it means spending less time toghether...',
                        allAnswersCorrect: false
                    }
                ]
            },
            // Page 2
            {
                questions: [
                    {
                        id: 'q2a',
                        text: '4: Feets and armpits are body parts which can be s*xy af!',
                        type: 'agreement',
                        correctAnswer: 5, // Strongly agree (scale: 1-5)
                        allAnswersCorrect: false
                    },
                    {
                        id: 'q2b',
                        text: '5: We\'re free this evening!! It is (more often than not) better to...',
                        type: 'binary',
                        options: ['Invite a lot of guest, let\'s have a party!! Yuppiee!! Pizza!! Friends!!', 'I wanna lean on your shoulder while we watch/play something!! Hold your hand tight!!'],
                        correctAnswer: 'I wanna lean on your shoulder while we watch/play something!! Hold your hand tight!!',
                        allAnswersCorrect: false
                    }
                ]
            },
            // Page 3 (example with multiple questions per page)
            {
                questions: [
                    {
                        id: 'q3a',
                        text: '6: We\'re on a holiday!!! I\'d strongly prefer...',
                        type: 'binary',
                        options: ['Spending all day at a beautiful beach!!', 'Exploring a lush forest like in a fantasy novel!!'],
                        correctAnswer: 'Exploring a lush forest like in a fantasy novel!!',
                        allAnswersCorrect: false
                    },
                    {
                        id: 'q3b',
                        text: '7: I\'d define myself more like...',
                        type: 'binary',
                        options: ['Exciting, fun, party animal!', 'Calm, relaxed, chill!'],
                        correctAnswer: '',
                        allAnswersCorrect: true
                    }
                ]
            }
        ];

        // Survey state
        let currentPage = 0;
        const userAnswers = {};

        // DOM elements
        const surveyContainer = document.getElementById('survey-container');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const pageIndicator = document.getElementById('page-indicator');

        // Initialize the survey
        function initSurvey() {
            showPage(currentPage);
            updateNavigationButtons();
        }

        // Display a survey page
        function showPage(pageIndex) {
            if (pageIndex < 0 || pageIndex >= surveyConfig.length) return;

            currentPage = pageIndex;
            const page = surveyConfig[pageIndex];

            // Build HTML for the page
            let html = '';
            page.questions.forEach(question => {
                html += `<div class="question" id="q-${question.id}">`;
                html += `<h3><br>${question.text}</h3>`;

                if (question.type === 'binary') {
                    question.options.forEach((option, i) => {
                        const isChecked = userAnswers[question.id] === option ? 'checked' : '';
                        html += `
          <label>
            <input type="radio" name="${question.id}" value="${option}" ${isChecked}>
            ${option}
          </label><br>
        `;
                    });
                }
                else if (question.type === 'agreement') {
                    const levels = [
                        'Strongly disagree',
                        'Disagree',
                        'Neutral',
                        'Agree',
                        'Strongly agree'
                    ];

                    const selectedValue = userAnswers[question.id] || '';

                    html += '<div class="agreement-scale">';
                    levels.forEach((level, i) => {
                        const value = i + 1; // 1-5 scale
                        const isChecked = selectedValue === value.toString() ? 'checked' : '';
                        html += `
          <label>
            <input type="radio" name="${question.id}" value="${value}" ${isChecked}>
            ${level}
          </label>
        `;
                    });
                    html += '</div>';
                }

                html += '</div>';
            });

            surveyContainer.innerHTML = html;
            pageIndicator.textContent = `Page ${pageIndex + 1} of ${surveyConfig.length}`;
            updateNavigationButtons();
        }

        // Save answers from current page
        function saveCurrentPageAnswers() {
            const page = surveyConfig[currentPage];

            page.questions.forEach(question => {
                const inputs = document.querySelectorAll(`input[name="${question.id}"]:checked`);
                if (inputs.length > 0) {
                    userAnswers[question.id] = inputs[0].value;
                }
            });
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            prevButton.disabled = currentPage === 0;
            nextButton.textContent = currentPage === surveyConfig.length - 1 ? 'Finish' : 'Next';
        }

        // Calculate the survey score
        function calculateScore() {
            let totalPossible = 0;
            let score = 0;

            surveyConfig.forEach(page => {
                page.questions.forEach(question => {
                    if (question.allAnswersCorrect) {
                        // All answers are correct, just add to the total
                        totalPossible += 1;
                        if (userAnswers[question.id]) {
                            score += 1;
                        }
                    } else {
                        // Need to check correctness
                        const userAnswer = userAnswers[question.id];

                        if (question.type === 'binary') {
                            totalPossible += 1;
                            if (userAnswer === question.correctAnswer) {
                                score += 1;
                            }
                        }
                        else if (question.type === 'agreement') {
                            // For agreement scale, partial credit based on distance
                            totalPossible += 1;
                            if (userAnswer) {
                                const distance = Math.abs(parseInt(userAnswer) - question.correctAnswer);
                                // The farther from correct answer, the less points (linear scale)
                                score += (4 - distance) / 4; // Gives 1 for correct, 0.75 for 1 away, etc.
                            }
                        }
                    }
                });
            });

            return {
                score: Math.round(score * 100),
                total: Math.round(totalPossible * 100),
                percentage: totalPossible > 0 ? Math.round((score / totalPossible) * 100) : 0
            };
        }

        // Event listeners
        prevButton.addEventListener('click', () => {
            saveCurrentPageAnswers();
            showPage(currentPage - 1);
        });

        nextButton.addEventListener('click', () => {
            saveCurrentPageAnswers();

            if (currentPage === surveyConfig.length - 1) {
                // Show results
                const results = calculateScore();
                surveyContainer.innerHTML = `
      <h2>Test Completed!</h2>
      <p>We are: ${results.percentage}% compatible!</p>
    `;
                if (results.percentage <= 20) { surveyContainer.innerHTML += "<p>Well, that's a giga BRUH!! Though... one misses all the shot he doesn't take is that so? Also, there are a couple of question where every answer is correct, so you probably just clicked 'next' without answering. </p>"; } else if (results.percentage <= 40) { surveyContainer.innerHTML += "<p>It's definitely... something! Maybe we can be huh friends? Just kidding, feel free to date me if you feel like</p>"; } else if (results.percentage <= 60) { surveyContainer.innerHTML += "<p>We're sort of compatible. Perhaps we should meet or something</p>"; } else if (results.percentage <= 80) { surveyContainer.innerHTML += "<p>Woooow that's great!! It's definitely above sufficiency! That means we're compatible! Get in touch!</p>"; } else { surveyContainer.innerHTML += "<p>Well well well, look at you, you look so cute! It seems like we're very compatible! Huh, w-wanna be at l-least something with me? Like, a friend, or a boyfriend, or idk, an internet friend? Pls pls pls</p>"; }

                surveyContainer.innerHTML += "<p>As for the Discord link, well I'm not really giving it away on the internet like this. It is sort of private. If you seriously wanna exchange some words pls get in touch on Reddit first, preferrably with a non-throwaway account."
                prevButton.style.display = 'none';
                nextButton.style.display = 'none';
                pageIndicator.style.display = 'none';
            } else {
                showPage(currentPage + 1);
            }
        });

        // Initialize the survey when the page loads
        window.addEventListener('DOMContentLoaded', initSurvey);
    </script>
    <script src="script.js"></script>
</body>

</html>